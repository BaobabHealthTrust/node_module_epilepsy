//
   Created by chimwemwe on 11/6/15.

style.
    .nav ul {
      background-color:transparent;
      margin:0;
      padding:0;
    }
      .nav li {
      background-color:#999999;
      display:block;
      float:left;
      font-size:1.2em;
      font-weight:bold;
      line-height:42px;
      margin-left:5px;
    }
      .nav li a.active {
      background-color:#DDDDDD;
      border-bottom:1px solid #DDDDDD;
      color:black;
    }
      .nav li a {
      background-color:transparent;
      border:1px solid black;
      color:white;
      display:block;
      float:left;
      padding:0 16px;
      text-decoration:none;
    }
      ul, ul li, ul li div {
      -moz-user-select:none;
    }
      .xLabel {
      margin-top:7px;
    }
      #graph.nav {
      margin-left:30px;
      margin-bottom:0px;
      height:22px;
      z-index:2;
    }
    #graph.nav ul {
      margin-top:1px;
      position:absolute;
      z-index:3;
    }
      #graph.nav li {
      margin-left:2px;
      line-height:22px;
      font-size:0.8em;
    }
      #graph.nav li a {
      border: 2px solid black;
      padding: 0 3px;
    }
      #graph.nav li a.active {
      background-color:#fff;
      border-bottom:2px solid #fff;
    }

script(src="/epilepsy/javascripts/jquery.js")
script(src="/epilepsy/javascripts/jquery.flot.js")

div(id="graph" class="nav")
    ul
        li
            a(class="active" href="#")
                | Weight

div(id="placeholder" style="width:480px;height:190px;")

script.
    function graph(){
        var patient_data = !{weight_history};

        var patient_ticks = [];

        var range = 0;
        var min = 0;
        var max = 0;
        var max_tick;

        function get_data(x1, x2) {
            return [{
                color: "green",
                data: patient_data,
                points: { show: true},
                lines: { show: true, fill: true, fillColor: "rgb(61,235,61)" },
                bars: { show: true }
            }]
        }

        var plot_options = {
        grid: { clickable: false, backgroundColor: "white", color:"black" },
        yaxis: { min: 0, max: 100},
        xaxis: { min: max-range, max: max, ticks: patient_ticks}
        }

        var plot = jQuery.plot(jQuery("#placeholder"), get_data(null, null), plot_options);
    }

    graph();